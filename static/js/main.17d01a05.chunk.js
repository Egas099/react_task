(this.webpackJsonpreact_task=this.webpackJsonpreact_task||[]).push([[0],{22:function(e,t,r){},23:function(e,t,r){"use strict";r.r(t);var n,a=r(1),s=r(0),c=r.n(s),i=r(5),o=r.n(i),u=r(2),l=r(3),j=(r(22),c.a.createContext({})),d=r(11),O=r(4);!function(e){e.IMPORT_USERS="IMPORT_USERS",e.REMOVE_USER="REMOVE_USER"}(n||(n={}));var b={users:[],usersExist:!1},f=function(){var e=Object(u.b)(),t=Object(s.useContext)(j).setFileName,r=Object(s.useState)(!1),c=Object(l.a)(r,2),i=c[0],o=c[1],O=Object(s.useState)(!1),b=Object(l.a)(O,2),f=b[0],p=b[1];return Object(a.jsx)("div",{className:["drop-zone","drop-zone--"+(f?"is-loading":"is-dropping"),i?"drop-zone--is-over":""].join(" "),onDrop:function(r){r.preventDefault(),r.stopPropagation(),t(r.dataTransfer.files[0].name);var a=new FileReader;a.onloadend=function(){var t="";try{if("string"!==typeof(t=a.result))return alert("Unable to read the file"),void p(!1);t=JSON.parse(t)}catch(c){return alert("Unable to read JSON file. Probably the file has a different format."),void p(!1)}p(!1);var r,s=function(e){var t=new Set,r=[],n=[e];do{r=n,n=[];var a,s=Object(d.a)(r);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.user&&t.add(c.user),c.replies){var i,o=Object(d.a)(c.replies);try{for(o.s();!(i=o.n()).done;){var u=i.value;n.push(u)}}catch(l){o.e(l)}finally{o.f()}}}}catch(l){s.e(l)}finally{s.f()}}while(n.length);return Array.from(t)}(t).sort();e((r=s,{type:n.IMPORT_USERS,payload:r}))},a.readAsText(r.dataTransfer.files[0]),p(!0),o(!1)},onDragOver:function(e){return e.preventDefault()},onDragEnter:function(){return o(!0)},onDragLeave:function(){return o(!1)}})},p=u.c,v=function(e){var t=e.name,r=e.even,s=Object(u.b)();return Object(a.jsxs)("li",{className:"user "+(r&&"user--is-colored"),children:[Object(a.jsx)("span",{children:t}),Object(a.jsx)("span",{className:"delete",onClick:function(){return s((e=t,{type:n.REMOVE_USER,payload:e}));var e}})]})},h=function(e){var t=e.users;return Object(a.jsx)("div",{className:"user-list__wrapper",children:t.length?Object(a.jsx)("ul",{className:"user-list",children:t.map((function(e,t){return Object(a.jsx)(v,{name:e,even:t%2!==0},e)}))}):Object(a.jsx)("h4",{style:{textAlign:"center"},children:"Empty"})})};var x=function(){var e=p((function(e){return e.user})),t=Object(s.useState)(""),r=Object(l.a)(t,2),n=r[0],c=r[1];return Object(a.jsx)(j.Provider,{value:{setFileName:c},children:Object(a.jsx)("div",{className:"App",children:e.usersExist?Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{className:"file-name",children:n}),",",Object(a.jsx)(h,{users:e.users})]}):Object(a.jsx)(f,{})})})},E=r(6),m=r(12),S=Object(E.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.IMPORT_USERS:return Object(O.a)(Object(O.a)({},e),{},{users:t.payload,usersExist:!0});case n.REMOVE_USER:return Object(O.a)(Object(O.a)({},e),{},{users:e.users.filter((function(e){return e!==t.payload}))});default:return e}}}),y=Object(E.createStore)(S,Object(m.composeWithDevTools)());o.a.render(Object(a.jsx)(u.a,{store:y,children:Object(a.jsx)(x,{})}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.17d01a05.chunk.js.map